<div class="p-8 bg-[#201a23] min-h-screen">
  <h1 class="text-3xl font-bold mb-6 text-white">Recommendations</h1>

  <!-- Search Bar -->
  <div class="search-container mb-6 flex justify-center">
    <input 
      type="text" 
      [(ngModel)]="userQuery" 
      placeholder="Enter your query" 
      class="border border-gray-500 bg-[#1a151d] text-white p-2 rounded-md w-3/4"
    />
    <button 
      (click)="getRecommendations()" 
      class="ml-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md">
      Get Recommendations
    </button>
  </div>

  <!-- Loading Screen -->
  <div *ngIf="isLoading" class="loading-screen flex flex-col items-center justify-center h-60 bg-[#201a23] rounded-lg shadow-md">
    <!-- Main Message -->
    <p class="text-lg font-bold text-white">
      {{ isSecondStage ? "Searching online with AI..." : "Using offline AI recommendations..." }}
    </p>
    <!-- Rotating Quote -->
    <p class="text-base font-medium text-gray-400 mt-2">
      {{ currentQuote }}
    </p>
    <!-- Loading Animation -->
    <div class="flex items-center space-x-2 mt-4">
      <div class="w-3 h-3 bg-blue-500 rounded-full animate-bounce"></div>
      <div class="w-3 h-3 bg-blue-500 rounded-full animate-bounce animation-delay-200"></div>
      <div class="w-3 h-3 bg-blue-500 rounded-full animate-bounce animation-delay-400"></div>
    </div>
  </div>

  <!-- Recommendations Grid -->
  <div *ngIf="!isLoading || isSecondStage" class="grid grid-cols-2 md:grid-cols-4 gap-6 mt-4">
    <div
      *ngFor="let item of recommendations"
      class="relative group bg-gray-800 rounded-lg overflow-hidden shadow-lg transform hover:scale-105 transition duration-300">
      <img [src]="getPosterUrl(item?.poster_path)" [alt]="item.title || item.name" 
        class="w-full h-full object-cover" />
  
      <!-- Overlay displayed on hover -->
      <div class="absolute inset-0 bg-black bg-opacity-60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 p-4 text-white">
        <div class="h-full flex flex-col justify-center items-center">
          <span class="material-icons text-2xl mb-2">
            {{ item.media_type === 'movie' ? 'theaters' : 'live_tv' }}
          </span>
          <h3 class="text-xl font-bold text-center">{{ item.title || item.name }}</h3>
        </div>
        <div class="absolute bottom-4 left-0 right-0 text-center">
          <p class="text-sm">Rating: {{ item.vote_average }}</p>
        </div>
      </div>
    </div>
  </div>
</div>
